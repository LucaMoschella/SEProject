\chapter{Descrizione sistema} 
\label{cha:specifica_sistema}

\section{Introduzione} 
In questo documento verrà descritto nel dettaglio il sistema nel suo complesso, in modo più approfondito rispetto al \docref{cha:documento_di_visione}.

\section{Descrizione dettagliata} 
\label{sec:descrizione_dettagliata}
Il portale che si vuole realizzare interagirà con diverse \grupporuolo{figure pubbliche}, che si distinguono tra autenticate e non autenticate. Fra le \grupporuolo{figure pubbliche autenticate} troviamo gli \ruolo{utenti} e i \ruolo{produttori}, mentre i \ruolo{visitatori} sono l'unica \grupporuolo{figura pubblica non autenticata}.
Sono presenti inoltre diverse \grupporuolo{figure amministrative}, quali i \ruolo{redattori}, gli \ruolo{assistenti}, i \ruolo{moderatori} e gli \ruolo{amministratori}.
Le diverse figure presenti si distinguono a seconda di quali funzionalità, messe a disposizione dal sistema, possono utilizzare. 

\bigskip
\noindent
Gli \emph{account} presenti nel sistema sono gestiti in un modo analogo agli utenti di Unix: un account può \emph{appartenere} a più figure e ha accesso ad alcune funzionalità a seconda delle figure a cui appartiene. In questo modo un singolo account può ricoprire più ruoli, è ad esempio possibile che un utente sia anche un redattore.

I \ruolo{visitatori} possono effettuare l'iscrizione, diversa a seconda della tipologia di account che si vuole creare, e l'autenticazione. Entrambe possono essere effettuate tramite l'integrazione con i principali Social Network, tuttavia per iscriversi come \ruolo{produttore} tramite Social Network si deve avere un account certificato in esso.

I \ruolo{produttori} distinti in \textsc{Industriali} e \textsc{Artigianali} tramite un apposito campo in fase di iscrizione, hanno a disposizione uno spazio per pubblicizzare i loro prodotti, che da questo momento in avanti chiameremo \emph{vetrina}. Essi potranno dunque personalizzare la loro vetrina, inserendo informazioni e immagini sul \ruolo{produttore}, e possono inserire prodotti o modificare quelli già inseriti. L'inserimento di prodotti seguirà una rigida procedura per garantire la consistenza dei dati e facilitare la ricerca dei prodotti. Potranno inoltre commentare recensioni ai loro prodotti.

Gli \ruolo{utenti} possono valutare oppure effettuare una recensione, la quale aggiunge una descrizione testuale alla valutazione, dei prodotti. Una volta inserita una recensione o una valutazione è possibile modificarla, oppure è possibile eliminare la propria recensione. 
Per permettere di visualizzare velocemente le recensioni più utili, gli \ruolo{utenti} possono dare un giudizio positivo oppure negativo sulle recensioni presenti. Hanno inoltre la possibilità di commentare le recensioni, per permettere una maggiore interazione fra gli \ruolo{utenti}.
Per facilitare l'inserimento di informazioni nel portale sono state inoltre pensate due particolari funzionalità: l'\ruolo{utente} può suggerire un prodotto mancante ad un \ruolo{produttore} iscritto, e tale \ruolo{produttore} potrà scegliere se accettare o rifiutare la richiesta di inserimento, eventualmente modificando le informazioni inserite dall'\ruolo{utente}; inoltre l'\ruolo{utente} potrà suggerire al sistema un prodotto mancante di un \ruolo{produttore} esterno non ancora iscritto al portale. In questo caso il sistema raccoglierà le richieste indirizzate ad uno stesso \ruolo{produttore} e superata una certa soglia si valuterà la possibilità di contattare il \ruolo{produttore} per indurlo ad iscriversi nel portale (per il \ruolo{produttore} sarebbe vantaggioso, in quanto avrebbe molta pubblicità) oppure di creare la sua vetrina in sua vece.
Inoltre gli \ruolo{utenti} possono ricevere consigli sui prodotti che gli potrebbero piacere, tenendo conto dell'esperienza passata nel portale. 

\bigskip
\noindent
Alcune funzionalità sono comuni a diverse figure.

Le \grupporuolo{figure pubbliche autenticate} possono usufruire del sistema di follower/followed, possono quindi seguire altri account per ricevere aggiornamenti da essi, rimuovere account che si stanno seguendo oppure visualizzare gli aggiornamenti dagli account seguiti. Possono inoltre segnalare recensioni/commenti con contenuti non appropriati e aprire tickets per richiedere assistenza.

I \ruolo{visitatori} e gli \ruolo{utenti} possono ricevere consigli sui prodotti simili a quelli che si stanno visualizzando e notizie simili a quelle lette. 

Tutte le \grupporuolo{figure pubbliche} possono effettuare ricerche nel portale, in base a diversi criteri, di prodotti, di notizie e di profili pubblici.
Esse possono inoltre gestire il proprio account, con la possibilità di visualizzare il profilo (pubblico), accedere alle impostazioni (private), effettuare il logout oppure rimuovere l'account. Da notare che l'eventuale rimozione dell'account non comporterà la rimozione dei contenuti inseriti nel portale, ma solo la rimozione dello stesso. Possono inoltre visualizzare i contenuti pubblici del portale, quali le vetrine dei produttori, con eventuali statistiche, i singoli prodotti con le recensioni associate, i profili pubblici altrui con le statistiche associate a quell'account e le notizie presenti nel portale.

\bigskip
\noindent
Segue una descrizione delle funzionalità specifiche delle \grupporuolo{figure amministrative}, le quali oltre ad esse ereditano tutte le funzionalità specifiche degli \ruolo{utenti}.

I \ruolo{redattori} possono aggiungere, modificare o rimuovere notizie provenienti dal dolciario.

Gli \ruolo{assistenti} possono rispondere ai tickets per risolvere i problemi degli \ruolo{utenti}. Hanno inoltre il compito di gestire le iscrizioni dei produttori effettuate direttamente nel portale, controllando la veridicità delle informazioni inserite, ed in caso creare l'account richiesto.

I \ruolo{moderatori} possono eliminare il contenuto non appropriato, che può essere segnalato tramite apposito ticket, dalle recensioni o dai commenti. Hanno la possibilità di eliminare completamente la recensione o il commento segnalato.

Gli \ruolo{amministratori} possono accedere al pannello di controllo del \gls{cms}, attraverso il quale possono configurare il portale in ogni suo aspetto e gestire tutte le altre figure. 

\bigskip
\noindent
Nel portale che si vuole realizzare le informazioni sui prodotti sono di fondamentale importanza, perciò elenchiamo di seguito quelle contenute nel sistema:
\begin{itemize}
	\item \infoProdotto{Nome prodotto.}
	\item \infoProdotto{Almeno una foto del prodotto.}
	\item \infoProdotto{Descrizione di presentazione.}
	\item \infoProdotto{Marca.}
	\item \infoProdotto{Categoria.}
	\item \infoProdotto{Particolarità.}
	\item \infoProdotto{Consistenza.}
	\item \infoProdotto{Ingredienti.}
	\item \infoProdotto{Altri campi} (a seconda di quali ha compilato il \ruolo{produttore}).
\end{itemize}
L'inserimento di queste informazioni è compito del \ruolo{produttore}, il quale seguirà una rigida procedura che sarà descritta nel dettaglio durante la specifica delle funzionalità.


\newdate{sisuno}{04}{05}{2016}
\section{Revisioni}
\begin{center}
    \begin{tabular}{lll}
        \toprule
        	\tabhead{Versione} & \tabhead{Data} & \tabhead{Descrizione} \\
		\cmidrule(l{\cmidrulekern}r{\cmidrulekern}){1-3}
        	1.0 & \displaydate{sisuno} & Prima versione \\
        \bottomrule
    \end{tabular}
\end{center}
